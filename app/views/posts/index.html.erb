<table class="table">
  <thead>
    <tr>
      <th scope="col">Message</th>
      <th scope="col">Created at</th>
      <th scope="col">User</th>
      <th scope="col"></th>
    </tr>
  </thead>
  <tbody>
  <% @posts.each do |post| %>
    <tr>
        <td><%= simple_format(post.message) %></td>
        <td><%= post.created_at %></td>
        <td><%= link_to post.user.username, user_path(post.user.id) %></td>
  <% if current_user == post.user %>
        <td class='edit'><%= link_to 'Edit', post_path(post) %></td>
        <td class='delete'><%= link_to 'Delete', post_path(post),
              method: :delete,
              data: { confirm: 'Are you sure?' } %></td>
  <% end %>
    </tr>
  <% end %>
  </tbody>
</table>


<p>
<% if user_signed_in? == false %>
  <%= link_to "Sign up", new_user_registration_path %>
  <%= link_to "Sign in", new_user_session_path %>
<% else %>
  <%= link_to new_post_path do %>
    New post
  <% end %>
  <%= link_to "Sign out", destroy_user_session_path,
                method: :get,
                data: { confirm: 'Are you sure?' } %>
<% end %>
</p>
